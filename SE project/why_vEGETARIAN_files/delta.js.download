!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/.bootscripts/",n(n.s=170)}({137:function(e,t,n){"use strict";var r,o=function(){};try{r=window}catch(e){r={}}r.performance&&r.performance.mark?e.exports=r.performance:e.exports={getEntriesByName:o,mark:o,measure:o}},144:function(e,t,n){"use strict";e.exports=function(e){var t=(n=e,window[n]=window[n]||[],window[n]);var n;return new Promise(function(e,n){t.push(function(){e(this)})})}},160:function(e,t,n){"use strict";function r(e,t){switch(e.type){case"simple":return t[e.key];default:return}}function o(){var e,t;try{e=window.localStorage}catch(e){}if(!e)return 0;try{t=JSON.parse(e.getItem("pageViews"))||{}}catch(e){}return t&&t.value||0}e.exports={evalTemplate:r,getPodValue:o,makePageTargeting:function(e,t,n,o){var a=n.beacons&&n.beacons.targetingParams&&n.beacons.targetingParams.exclude||{},i={};return Object.keys(e||{}).forEach(function(n){var s=r(e[n],t);"number"==typeof s&&(s+=""),null==s||""===s||Array.isArray(s)&&0===s.length||(o&&o.setTargeting(n,s),a[n]||(i[n]=s))}),i},vastCustomParams:function(e,t,n){var r=["ag","channel","et","gd","in","lang","pagetype","path","pt","referrer","terms"];for(var a in t||(t={}),t)if(r.indexOf(a)>-1){var i=t[a];Array.isArray(i)&&(i=i.join(",")),e[a]=i}return e.pod=o(),n?encodeURIComponent(Object.keys(e).map(function(t){return[t,e[t]].join("=")}).join("&")):e}}},170:function(e,t,n){"use strict";n(6)("phxAdServerQueue",n(171))},171:function(e,t,n){"use strict";var r,o,a=n(172),i=n(173),s=n(174),l=n(8),u=n(175),d=n(160),c=n(144),f=c("phxConfigQueue"),g=c("phxDemographicsQueue"),p=d.evalTemplate,m=0,v=0,h=[7,7],y={},b=!1,w=!1,S={},P={},x=0;function O(e,t,n,r){return new Promise(function(o,a){var i=e.getSlotElementId();S[i]={resolve:o,reject:a,config:t,model:n,req:r}})}function A(e){var t=e.slot.getSlotElementId(),n=S[t];n?(delete S[t],n.resolve(e)):console.warn("got slotRenderEnded for unknown slot",t)}function z(e,t,n,r){r&&r.prepareRequest(n);for(var o=0;o<n.length;o++)e.display(n[o].getSlotElementId());t.refresh(n,{changeCorrelator:!1})}f.then(function(e){b=e.features.isEnabled("disable-lazy-loading-ads"),o=!e.features.isEnabled("disable-consent-management"),w=e.features.isEnabled("use-safeframe")}),a.then(function(e){(r=e.pubads()).enableSingleRequest(),r.disableInitialLoad(),w&&r.setForceSafeFrame(!0);if(r.setSafeFrameConfig({sandbox:!0,allowOverlayExpansion:!0,allowPushExpansion:!0}),!b){r.enableLazyLoad({renderMarginPercent:75,fetchMarginPercent:200,mobileScaling:2})}e.enableServices(),r.addEventListener("slotRenderEnded",A)}),e.exports={getAdCallConfig:function(e,t){return{sizes:t}},initPage:function(){v=0;var e=++m,t=l("adServerDfp:initPage:"+e);return y={},a.then(function(){if(m===e){if(o){var n=window.GdprStatus;Promise.all([n.isApplicable(),n.isConsentGivenForPurpose(n.PURPOSE_IDS.advertising)]).then(function(e){e[0]&&!e[1]&&(x=1,r.setRequestNonPersonalizedAds(x))})}r.clearTargeting(),t.end()}else t.end()})},requestAds:function(e,t,n,o){for(var c=m,b=l("adServerDfp:requestAds:"+ ++v),w=0;w<n.length;w++)n[w].rid=u().replace(/-/g,"");return function(e,t,n){e.beacons&&e.beacons.demoUsage&&g.then(function(e){return e.implicit()}).then(function(e){var t=Object.keys(e||{}).reduce(function(t,n){return e[n]&&(t[n]="im"),t},{});t.servtime=Date.now()}).catch(function(e){console.warn("No implicit demos",e)})}(e),a.then(function(a){var l=[],u=[],g=[];if(m===c){for(var v=e.customTargetingPageTemplates,w=d.makePageTargeting(v,t,e,r),S=0;S<n.length;S++){var A=n[S],C=A.element.getAttribute("id");if(y.hasOwnProperty(C))l.push(y[C]);else if(!P.hasOwnProperty(C)){var E=i(window.location.href,r,u,g);E.avgSlotSize+E.totalSize>7800&&(z(a,r,u,o),u=[],g=[]);var I=Object.assign({},t,A.model,{rid:[A.rid]}),T=A.config.sizes,j=A.adUnitPath;if(I.isOutstream){var _=A.element.getAttribute("data-outstream-slot-id"),R=document.getElementById(_);s.prepareOutstreamAd(R,A.element,window,j,T,w,f,I.playerBiddingIds,x)}else{var k=void 0;if(null!==(k=T?a.defineSlot(j,T,C):a.defineOutOfPageSlot(j,C))){k.addService(r);var M=e.customTargetingTemplates;for(var N in M)if(M.hasOwnProperty(N)){var U=p(M[N],I);"number"==typeof U&&(U+=""),null==U||""===U||Array.isArray(U)&&0===U.length||k.setTargeting(N,U)}u.push(k),g.push(T),P[C]=k,y[C]=O(k,e,I,A).then(L(A)),l.push(y[C])}else console.warn("null slot - linked twice?")}}}return u.length&&z(a,r,u,o),b.end(),l}function L(t){return function(n){var r=n.slot.getSlotElementId(),o=document.getElementById(r),a=n.slot.getResponseInformation();if(o){var i=n.size;if(n.isEmpty||i&&i[0]===h[0]&&i[1]===h[1]){var s=o.innerHTML,l=document.createComment(s);return o.innerHTML="",o.appendChild(l),{slotId:t.id,responseInfo:{dfp:a},element:o,filled:!1}}var u,d=i?i.join("x"):null;return d&&e.specialSizes&&(u=d,d=e.specialSizes[d]||d),o.classList.remove("is-placeholder"),{slotId:t.id,responseInfo:{dfp:a},element:o,sizeCode:d,sizeDims:u,filled:!0}}}}b.end()})},resetAdSlot:function(e){y.hasOwnProperty(e)&&delete y[e],S.hasOwnProperty(e)&&delete S[e],P.hasOwnProperty(e)&&a.then(function(t){t.destroySlots([P[e]]),delete P[e]})}}},172:function(e,t,n){"use strict";var r=window.googletag||{};r.cmd=r.cmd||[];var o=r.cmd;e.exports=new Promise(function(e,t){o.push(function(){e(window.googletag)})})},173:function(e,t,n){"use strict";e.exports=function(e,t,n,r){if(!n||!n.length)return{avgSlotSize:0,totalSize:0};var o=591;o+=4,o+=encodeURIComponent(e).length;var a=t.getTargetingKeys();if(a&&a.length){o+=12;for(var i=0;i<a.length;i++){var s=a[i];o+=s.length+3,o+=encodeURIComponent(t.getTargeting(s)).length}o+=3*(a.length-1)}var l=n[0].getAdUnitPath().split("/"),u=o+=8+encodeURIComponent(l.join(",")).length;o+=13+l.length*n.length+(l.length-1)*n.length*3+3*(n.length-1),o+=5,o+=3*n.length,o+=3*(n.length-1),o+=5,o+=5*n.length,o+=3*(n.length-1),o+=5,o+=10*n.length,o+=3*(n.length-1),o+=12,o+=3*(n.length-1),o+=9,o+=3*(n.length-1);for(var d=0;d<n.length;d++){if(r[d]){var c=r[d].length;o+=7*c,o+=3*(c-1)}var f=n[d].getTargetingKeys();if(f&&f.length){for(var g=0;g<f.length;g++){var p=f[g];o+=p.length+3,o+=encodeURIComponent(n[d].getTargeting(p)).length}o+=3*(f.length-1)}}return{avgSlotSize:(o-u)/n.length,totalSize:o}}},174:function(e,t,n){"use strict";var r=n(160);e.exports={prepareOutstreamAd:function(e,t,n,o,a,i,s,l,u){var d=o.split("/"),c=n.location.protocol+"//"+n.location.host+n.location.pathname,f={adindex:"0",adzone:"outstream",adzoneindex:"outstream_0",siteadzoneindex:d[2]+"_outstream_0"},g={description_url:c,sz:"640x360",impl:"s",gdfp_req:1,env:"vp",output:"vast",unview_position_start:1,url:c};g.correlator=n.google_global_correlator||Math.floor(Math.random()*Math.pow(10,16)),g.iu=o,g.cust_params=r.vastCustomParams(f,i);var p=[];for(var m in g)p.push(m+"="+g[m]);u&&p.push("npa="+u);var v="https://pubads.g.doubleclick.net/gampad/ads?"+p.join("&");l&&e.setAttribute("player-bidding",l);var h=t.getAttribute("id");e.addEventListener("outstreamFailed",function(){n.phxAdvertisingQueue.push(function(){var n=this;e&&e.parentNode&&(t.classList.add("is-filled"),e.parentNode&&e.parentNode.parentNode&&e.parentNode.parentNode.classList.remove("is-outstream"),e.parentNode.removeChild(e)),s.then(function(e){var t=e.breakpoint.get();n.dynamicCall({slots:[{adUnitPath:o,id:h,config:{sizes:a,screenSizes:[t]},model:{nativeCardType:"A"===t?"standard":"list",zone:"outstream_fallback",index:0,isOutstream:!1}}]})})})}),e.setAttribute("vast-url",v)}}},175:function(e,t,n){var r=n(176),o=n(177);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[a+s]=i[s];return t||o(i)}},176:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},177:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},6:function(e,t,n){"use strict";e.exports=function(e,t){var n=window[e];if(window[e]={push:o},void 0!==n)for(var r=0;r<n.length;r++)o(n[r]);function o(e){t.then?t.then(function(n){t=n,e.call(t)}):e.call(t)}}},8:function(e,t,n){"use strict";var r=n(137),o=0;function a(){var e="phxMark:"+o++;return r.mark(e),e}e.exports=function(e){var t=a();return{end:function(){var n=a();r.measure(e,t,n);var o=r.getEntriesByName(e);if(o&&o.length)return o[o.length-1].duration}}}}});
//# sourceMappingURL=adServerDfp.min.js.map